graph TD
    subgraph "FASE 1 MVP CORE - Semanas 1-4"
        space1[ ]
        
        subgraph "Componentes Frontend"
            F1["Plugin Backstage<br/>React TypeScript<br/>Chat Interface"]
            F2["Widget de Chat<br/>WebSocket Client<br/>UI Components"]
        end
        
        subgraph "Componentes Backend"
            B1["API REST Principal<br/>FastAPI Python<br/>Endpoints Chat"]
            B2["Gestor de Contexto<br/>Context Manager<br/>Session Handling"]
            B3["Base de Datos Simple<br/>PostgreSQL<br/>Metadata Storage"]
        end
        
        subgraph "Integracion Basica"
            I1["Backstage Catalog API<br/>Component Reading<br/>Basic Integration"]
            I2["Analizador Repositorios<br/>Git Analysis<br/>Pattern Detection"]
        end
        
        space1 ~~~ F1
        F1 --> F2
        F2 --> B1
        B1 --> B2
        B2 --> B3
        B3 --> I1
        I1 --> I2
    end
    
    subgraph "FASE 2 ENHANCED FEATURES - Semanas 5-7"
        space2[ ]
        
        subgraph "Sistema IA Avanzado"
            AI1["OpenShift AI Setup<br/>LLM Deployment<br/>Granite Code-Llama"]
            AI2["Vector Database<br/>Qdrant Installation<br/>Embedding Storage"]
            AI3["RAG Implementation<br/>Retrieval System<br/>Knowledge Search"]
        end
        
        subgraph "Agentes LangGraph"
            AG1["Agente Analisis<br/>Pattern Recognition<br/>Code Evaluation"]
            AG2["Agente Recomendacion<br/>Template Matching<br/>Smart Suggestions"]
            AG3["Agente Seguridad<br/>Policy Validation<br/>Compliance Check"]
        end
        
        subgraph "Integracion MCP"
            MCP1["MCP Server<br/>Protocol Implementation<br/>Tool Management"]
            MCP2["MCP Tools<br/>Backstage Operations<br/>Action Execution"]
        end
        
        space2 ~~~ AI1
        AI1 --> AI2
        AI2 --> AI3
        AI3 --> AG1
        AG1 --> AG2
        AG2 --> AG3
        AG3 --> MCP1
        MCP1 --> MCP2
    end
    
    subgraph "FASE 3 PRODUCTION READY - Semana 8"
        space3[ ]
        
        subgraph "Pipeline DevOps"
            DO1["Tekton Pipelines<br/>CI/CD Setup<br/>Automated Testing"]
            DO2["ArgoCD GitOps<br/>Deployment Automation<br/>Environment Management"]
            DO3["Monitoring Stack<br/>Prometheus Grafana<br/>Observability"]
        end
        
        subgraph "Seguridad Completa"
            SEC1["Advanced Cluster Security<br/>Policy Enforcement<br/>Vulnerability Scanning"]
            SEC2["Network Policies<br/>RBAC Configuration<br/>Pod Security Standards"]
            SEC3["Secrets Management<br/>Vault Integration<br/>Certificate Management"]
        end
        
        subgraph "Demo Preparation"
            DEMO1["Scripts de Demo<br/>Automated Scenarios<br/>User Flows"]
            DEMO2["Data de Prueba<br/>Sample Repositories<br/>Test Cases"]
            DEMO3["Presentacion Final<br/>Red Hat One Ready<br/>Performance Tuning"]
        end
        
        space3 ~~~ DO1
        DO1 --> DO2
        DO2 --> DO3
        DO3 --> SEC1
        SEC1 --> SEC2
        SEC2 --> SEC3
        SEC3 --> DEMO1
        DEMO1 --> DEMO2
        DEMO2 --> DEMO3
    end
    
    subgraph "DEPENDENCIAS CRITICAS"
        space4[ ]
        
        subgraph "Accesos Requeridos"
            ACC1["OpenShift Cluster<br/>Namespace Access<br/>Admin Permissions"]
            ACC2["GitLab Enterprise<br/>API Access<br/>Repository Permissions"]
            ACC3["Backstage Instance<br/>Plugin Development<br/>Catalog Access"]
        end
        
        subgraph "Infraestructura Base"
            INF1["PostgreSQL Database<br/>Persistent Storage<br/>Backup Strategy"]
            INF2["Redis Cache<br/>Session Storage<br/>Performance Layer"]
            INF3["Container Registry<br/>Quay.io Access<br/>Image Storage"]
        end
        
        space4 ~~~ ACC1
        ACC1 --> ACC2
        ACC2 --> ACC3
        ACC3 --> INF1
        INF1 --> INF2
        INF2 --> INF3
    end
    
    subgraph "ENTREGABLES POR FASE"
        space5[ ]
        
        subgraph "Entregables Fase 1"
            ENT1["Plugin Backstage Funcional<br/>Chat basico operativo<br/>Context collection working"]
            ENT2["API REST documentada<br/>Endpoints principales<br/>Swagger/OpenAPI specs"]
            ENT3["Demo MVP<br/>Flujo basico usuario<br/>Proof of concept"]
        end
        
        subgraph "Entregables Fase 2"
            ENT4["Sistema IA completo<br/>RAG implementation<br/>Multi-source search"]
            ENT5["Agentes LangGraph<br/>Intelligent processing<br/>Context-aware responses"]
            ENT6["Integration MCP<br/>Tool execution<br/>Backstage automation"]
        end
        
        subgraph "Entregables Fase 3"
            ENT7["Production deployment<br/>Full DevOps pipeline<br/>Security hardened"]
            ENT8["Demo scripts ready<br/>Performance validated<br/>Red Hat One ready"]
        end
        
        space5 ~~~ ENT1
        ENT1 --> ENT2
        ENT2 --> ENT3
        ENT3 --> ENT4
        ENT4 --> ENT5
        ENT5 --> ENT6
        ENT6 --> ENT7
        ENT7 --> ENT8
    end
    
    %% FLUJO DE CONSTRUCCION
    F2 -.->|Requiere| AI1
    I2 -.->|Alimenta| AI2
    AG3 -.->|Valida| SEC1
    MCP2 -.->|Ejecuta via| DO1
    
    %% DEPENDENCIAS CRITICAS
    ACC1 -.->|Necesario para| AI1
    ACC2 -.->|Necesario para| I2
    ACC3 -.->|Necesario para| F1
    INF1 -.->|Soporta| B3
    INF2 -.->|Soporta| B2
    INF3 -.->|Soporta| DO1
    
    classDef fase1 fill:#e3f2fd,stroke:#1976d2,stroke-width:3px,color:#0d47a1
    classDef fase2 fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#4a148c
    classDef fase3 fill:#e8f5e8,stroke:#388e3c,stroke-width:3px,color:#1b5e20
    classDef dependencias fill:#fff3e0,stroke:#f57c00,stroke-width:3px,color:#e65100
    classDef entregables fill:#fce4ec,stroke:#c2185b,stroke-width:3px,color:#880e4f
    
    class F1,F2,B1,B2,B3,I1,I2 fase1
    class AI1,AI2,AI3,AG1,AG2,AG3,MCP1,MCP2 fase2
    class DO1,DO2,DO3,SEC1,SEC2,SEC3,DEMO1,DEMO2,DEMO3 fase3
    class ACC1,ACC2,ACC3,INF1,INF2,INF3 dependencias
    class ENT1,ENT2,ENT3,ENT4,ENT5,ENT6,ENT7,ENT8 entregables
    
    %% Ocultar nodos espaciadores
    classDef hidden fill:transparent,stroke:transparent,color:transparent
    class space1,space2,space3,space4,space5 hidden